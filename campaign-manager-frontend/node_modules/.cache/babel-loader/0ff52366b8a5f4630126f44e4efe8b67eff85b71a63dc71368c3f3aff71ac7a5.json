{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport ABTestService from '../../services/api';\nimport { styled } from '@mui/material/styles';\nimport { TextField } from \"@mui/material\";\nconst FormContainer = styled('form')({\n  '& .MuiTextField-root': {\n    margin: '8px',\n    width: '25ch'\n  }\n});\nconst LineInput = styled(TextField)({\n  '& .MuiInputBase-root': {\n    border: 'none',\n    borderBottom: '1px solid rgba(0, 0, 0, 0.42)'\n  }\n});\nconst CreateTest = props => {\n  _s();\n  const {\n    setCurrentTab\n  } = props;\n  const [campaignData, setCampaignData] = useState({\n    campaignName: '',\n    controlName: 'Original',\n    controlIdentifier: '',\n    type: '',\n    variants: [{\n      name: 'Variant A',\n      identifier: ''\n    }]\n  });\n  const [variantCount, setVariantCount] = useState(1);\n  useEffect(() => {\n    setCampaignData(prevData => ({\n      ...prevData,\n      variants: prevData.variants.map((variant, i) => ({\n        ...variant,\n        name: `Variant ${String.fromCharCode(65 + i)}`\n      }))\n    }));\n  }, [variantCount]);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setCampaignData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n  const handleRemoveVariant = indexToRemove => {\n    setCampaignData(prevData => ({\n      ...prevData,\n      variants: prevData.variants.filter((_, index) => index !== indexToRemove)\n    }));\n    setVariantCount(variantCount - 1);\n  };\n  const handleVariantChange = (event, index) => {\n    const {\n      name,\n      value\n    } = event.target;\n    const updatedVariants = [...campaignData.variants];\n    updatedVariants[index] = {\n      ...updatedVariants[index],\n      [name]: value\n    };\n    setCampaignData(prevData => ({\n      ...prevData,\n      variants: updatedVariants\n    }));\n  };\n  const handleAddVariant = () => {\n    const newVariant = {\n      name: `Variant ${String.fromCharCode(65 + variantCount)}`,\n      identifier: ''\n    };\n    setCampaignData(prevData => ({\n      ...prevData,\n      variants: [...prevData.variants, newVariant]\n    }));\n    setVariantCount(variantCount + 1);\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      const updatedCampaignData = {\n        ...campaignData,\n        controlName: 'Original',\n        variants: campaignData.variants.map((variant, index) => ({\n          ...variant,\n          name: `Variant ${String.fromCharCode(65 + index)}`\n        }))\n      };\n      await ABTestService.createCampaign(updatedCampaignData);\n      props.setCurrentTab('success');\n    } catch (error) {\n      props.setCurrentTab('error');\n    }\n  };\n};\n_s(CreateTest, \"2SBObCXY0K6aQP2CjSLGC1uMC6Q=\");\n_c = CreateTest;\nexport default CreateTest;\nvar _c;\n$RefreshReg$(_c, \"CreateTest\");","map":{"version":3,"names":["useState","useEffect","ABTestService","styled","TextField","FormContainer","margin","width","LineInput","border","borderBottom","CreateTest","props","_s","setCurrentTab","campaignData","setCampaignData","campaignName","controlName","controlIdentifier","type","variants","name","identifier","variantCount","setVariantCount","prevData","map","variant","i","String","fromCharCode","handleInputChange","event","value","target","handleRemoveVariant","indexToRemove","filter","_","index","handleVariantChange","updatedVariants","handleAddVariant","newVariant","handleSubmit","preventDefault","updatedCampaignData","createCampaign","error","_c","$RefreshReg$"],"sources":["C:/Users/Karab/OneDrive/Documents/ABWinfuture/campaign-manager-frontend/src/components/CreateTest/CreateTest.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ABTestService from '../../services/api';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Button, TextField, Container, Box, Typography } from \"@mui/material\";\r\n\r\nconst FormContainer = styled('form')({\r\n  '& .MuiTextField-root': {\r\n    margin: '8px',\r\n    width: '25ch',\r\n  },\r\n});\r\n\r\nconst LineInput = styled(TextField)({\r\n  '& .MuiInputBase-root': {\r\n    border: 'none',\r\n    borderBottom: '1px solid rgba(0, 0, 0, 0.42)',\r\n  },\r\n});\r\n\r\nconst CreateTest: React.FC<{ setCurrentTab: (tab: string) => void }> = (props) => {\r\n  const { setCurrentTab } = props;\r\n    const [campaignData, setCampaignData] = useState({\r\n    campaignName : '', \r\n    controlName: 'Original',\r\n    controlIdentifier: '',\r\n    type: '',\r\n    variants: [\r\n      {\r\n        name: 'Variant A',\r\n        identifier: '',\r\n      } \r\n    ]\r\n  });\r\n\r\n  const [variantCount, setVariantCount] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setCampaignData(prevData => ({\r\n      ...prevData,\r\n      variants: prevData.variants.map((variant, i) => ({\r\n        ...variant,\r\n        name: `Variant ${String.fromCharCode(65 + i)}`\r\n      }))\r\n    }));\r\n  }, [variantCount]);\r\n\r\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n    setCampaignData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleRemoveVariant = (indexToRemove: number) => {\r\n    setCampaignData((prevData) => ({\r\n      ...prevData,\r\n      variants: prevData.variants.filter((_, index) => index !== indexToRemove),\r\n    }));\r\n    setVariantCount(variantCount - 1);\r\n  };\r\n\r\n  const handleVariantChange = (event: React.ChangeEvent<HTMLInputElement>, index: number) => {\r\n    const { name, value } = event.target;\r\n    const updatedVariants = [...campaignData.variants];\r\n    updatedVariants[index] = {\r\n      ...updatedVariants[index],\r\n      [name]: value\r\n    };\r\n    setCampaignData((prevData) => ({\r\n      ...prevData,\r\n      variants: updatedVariants\r\n    }));\r\n  };\r\n\r\n  const handleAddVariant = () => {\r\n    const newVariant = {\r\n      name: `Variant ${String.fromCharCode(65 + variantCount)}`,\r\n      identifier: '',\r\n    };\r\n    setCampaignData((prevData) => ({\r\n      ...prevData,\r\n      variants: [...prevData.variants, newVariant]\r\n    }));\r\n    setVariantCount(variantCount + 1);\r\n  };\r\n\r\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n  \r\n    try {\r\n      const updatedCampaignData = {\r\n        ...campaignData,\r\n        controlName: 'Original',\r\n        variants: campaignData.variants.map((variant, index) => ({\r\n          ...variant,\r\n          name: `Variant ${String.fromCharCode(65 + index)}`,\r\n        })),\r\n      };\r\n  \r\n      await ABTestService.createCampaign(updatedCampaignData);\r\n      props.setCurrentTab('success');\r\n    } catch (error) {\r\n      props.setCurrentTab('error');\r\n    }\r\n  };\r\n\r\n};\r\n\r\nexport default CreateTest;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}